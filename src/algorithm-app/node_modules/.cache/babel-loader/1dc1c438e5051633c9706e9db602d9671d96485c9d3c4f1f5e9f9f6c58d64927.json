{"ast":null,"code":"import axios from 'axios';\nexport const fetchNode = async id => {\n  const response = await axios.get(`/api/nodes/${id}`);\n  return response.data;\n};\nexport const fetchNodeChildren = async id => {\n  const response = await axios.get(`/api/nodes/${id}/children`);\n  return response.data;\n};\nexport const fetchNodePath = async id => {\n  const response = await axios.get(`/api/nodes/${id}/path`);\n  return response.data.reverse(); // Move the reverse logic here\n};\nexport const fetchNodeTree = async (id, depth = 4) => {\n  const response = await axios.get(`/api/nodes/${id}/tree`, {\n    params: {\n      depth\n    }\n  });\n  return response.data;\n};\nexport const fetchAllNodeData = async id => {\n  const [node, children, path, tree] = await Promise.all([fetchNode(id), fetchNodeChildren(id), fetchNodePath(id), fetchNodeTree(id)]);\n  return {\n    node,\n    children,\n    path,\n    tree\n  };\n};\nexport const completeNode = async (nodeId, score) => {\n  try {\n    const response = await axios.post(`/api/nodes/${nodeId}/complete`, {\n      completedScore: score\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    console.error(\"Error in completeNode:\", error.message);\n    throw new Error(`Failed to complete node: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message}`);\n  }\n};\nexport const createChildNodes = async (parentId, title, content) => {\n  try {\n    const request1 = axios.post('/api/nodes', {\n      parent_id: parseInt(parentId),\n      title,\n      content,\n      statementTrueFalseFlag: 1\n    });\n    const request2 = axios.post('/api/nodes', {\n      parent_id: parseInt(parentId),\n      title,\n      content,\n      statementTrueFalseFlag: 0\n    });\n    await Promise.all([request1, request2]);\n    return {\n      success: true\n    };\n  } catch (error) {\n    console.error('Error:', error);\n    return {\n      success: false,\n      error\n    };\n  }\n};","map":{"version":3,"names":["axios","fetchNode","id","response","get","data","fetchNodeChildren","fetchNodePath","reverse","fetchNodeTree","depth","params","fetchAllNodeData","node","children","path","tree","Promise","all","completeNode","nodeId","score","post","completedScore","error","_error$response","_error$response$data","console","message","Error","createChildNodes","parentId","title","content","request1","parent_id","parseInt","statementTrueFalseFlag","request2","success"],"sources":["/Users/yc/Documents/MainWebsiteTree/ActualWebsite/Algorithm+TopicSutff/algorithm-app/src/CodeNode/services/nodeAPI.js"],"sourcesContent":["import axios from 'axios';\n\nexport const fetchNode = async (id) => {\n  const response = await axios.get(`/api/nodes/${id}`);\n  return response.data;\n};\n\nexport const fetchNodeChildren = async (id) => {\n  const response = await axios.get(`/api/nodes/${id}/children`);\n  return response.data;\n};\n\nexport const fetchNodePath = async (id) => {\n  const response = await axios.get(`/api/nodes/${id}/path`);\n  return response.data.reverse(); // Move the reverse logic here\n};\n\nexport const fetchNodeTree = async (id, depth = 4) => {\n  const response = await axios.get(`/api/nodes/${id}/tree`, {\n    params: { depth }\n  });\n  return response.data;\n};\n\nexport const fetchAllNodeData = async (id) => {\n  const [node, children, path, tree] = await Promise.all([\n    fetchNode(id),\n    fetchNodeChildren(id),\n    fetchNodePath(id),\n    fetchNodeTree(id)\n  ]);\n  return { node, children, path, tree };\n};\n\nexport const completeNode = async (nodeId, score) => {\n  try {\n    const response = await axios.post(`/api/nodes/${nodeId}/complete`, {\n      completedScore: score\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\"Error in completeNode:\", error.message);\n    throw new Error(`Failed to complete node: ${error.response?.data?.message || error.message}`);\n  }\n};\n\nexport const createChildNodes = async (parentId, title, content) => {\n  try {\n    const request1 = axios.post('/api/nodes', {\n      parent_id: parseInt(parentId),\n      title, \n      content, \n      statementTrueFalseFlag: 1\n    });\n\n    const request2 = axios.post('/api/nodes', {\n      parent_id: parseInt(parentId),\n      title, \n      content, \n      statementTrueFalseFlag: 0\n    });\n\n    await Promise.all([request1, request2]);\n    return { success: true };\n  } catch (error) {\n    console.error('Error:', error);\n    return { success: false, error };\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}