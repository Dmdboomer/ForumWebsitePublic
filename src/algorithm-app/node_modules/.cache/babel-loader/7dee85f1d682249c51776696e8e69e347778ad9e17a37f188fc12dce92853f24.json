{"ast":null,"code":"import React from'react';import CreateComment from'./CreateComment';import CommentItem from'./CommentItem';import useCommentsLogic from'./useCommentsLogic';import'../nonGlobalStyle/CommentsSection.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CommentsSection=_ref=>{let{nodeId}=_ref;const{comments,showCommentForm,isLoading,processing,user,setShowCommentForm,handleNewComment,handleEndorse,handleReport}=useCommentsLogic(nodeId);if(isLoading)return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"comment-stuff mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comment-stuff d-flex justify-content-between align-items-center py-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"comment-stuff mb-4\",children:\"Attempts to solve\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm \".concat(showCommentForm?'btn-outline-secondary':'btn-primary'),onClick:()=>setShowCommentForm(!showCommentForm),disabled:!nodeId,children:showCommentForm?'Cancel':'Add New'})]}),showCommentForm&&/*#__PURE__*/_jsx(\"div\",{className:\"card-body border-bottom\",children:/*#__PURE__*/_jsx(CreateComment,{onCommentCreated:handleNewComment,nodeId:nodeId})}),/*#__PURE__*/_jsx(\"div\",{className:\"list-group list-group-flush\",children:comments.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary\",children:\"No comments yet\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link text-accent\",onClick:()=>setShowCommentForm(true),disabled:!nodeId,children:\"Be the first to add a comment\"})]}):comments.map(comment=>comment&&/*#__PURE__*/_jsx(CommentItem,{comment:comment,user:user,processing:processing,onEndorse:handleEndorse,onReport:handleReport},comment.id))})]});};export default CommentsSection;","map":{"version":3,"names":["React","CreateComment","CommentItem","useCommentsLogic","jsx","_jsx","jsxs","_jsxs","CommentsSection","_ref","nodeId","comments","showCommentForm","isLoading","processing","user","setShowCommentForm","handleNewComment","handleEndorse","handleReport","className","children","concat","onClick","disabled","onCommentCreated","length","map","comment","onEndorse","onReport","id"],"sources":["/Users/yc/Documents/MainWebsiteTree/ActualWebsite/Algorithm+TopicSutff/algorithm-app/src/CodeNode/components/CommentsSection.js"],"sourcesContent":["import React from 'react';\nimport CreateComment from './CreateComment';\nimport CommentItem from './CommentItem';\nimport useCommentsLogic from './useCommentsLogic';\nimport '../nonGlobalStyle/CommentsSection.css';\n\nconst CommentsSection = ({ nodeId }) => {\n  const {\n    comments,\n    showCommentForm,\n    isLoading,\n    processing,\n    user,\n    setShowCommentForm,\n    handleNewComment,\n    handleEndorse,\n    handleReport\n  } = useCommentsLogic(nodeId);\n\n  if (isLoading) return (\n    <div className=\"loading-container\">\n      <div className=\"spinner\"></div>\n      <p>Loading...</p>\n    </div>\n  );\n\n  return (\n    <div className=\"comment-stuff mb-4\">\n      <div className=\"comment-stuff d-flex justify-content-between align-items-center py-3\">\n        <h2 className=\"comment-stuff mb-4\">Attempts to solve</h2>\n        <button \n          className={`btn btn-sm ${showCommentForm ? 'btn-outline-secondary' : 'btn-primary'}`}\n          onClick={() => setShowCommentForm(!showCommentForm)}\n          disabled={!nodeId}\n        >\n          {showCommentForm ? 'Cancel' : 'Add New'}\n        </button>\n      </div>\n      \n      {showCommentForm && (\n        <div className=\"card-body border-bottom\">\n          <CreateComment \n            onCommentCreated={handleNewComment}\n            nodeId={nodeId}\n          />\n        </div>\n      )}\n      \n      <div className=\"list-group list-group-flush\">\n        {comments.length === 0 ? (\n          <div className=\"text-center py-4\">\n            <p className=\"text-secondary\">No comments yet</p>\n            <button \n              className=\"btn btn-link text-accent\"\n              onClick={() => setShowCommentForm(true)}\n              disabled={!nodeId}\n            >\n              Be the first to add a comment\n            </button>\n          </div>\n        ) : (\n          comments.map(comment => \n            comment && (\n              <CommentItem \n                key={comment.id}\n                comment={comment}\n                user={user}\n                processing={processing}\n                onEndorse={handleEndorse}\n                onReport={handleReport}\n              />\n            )\n          )\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CommentsSection;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CACjC,KAAM,CACJE,QAAQ,CACRC,eAAe,CACfC,SAAS,CACTC,UAAU,CACVC,IAAI,CACJC,kBAAkB,CAClBC,gBAAgB,CAChBC,aAAa,CACbC,YACF,CAAC,CAAGhB,gBAAgB,CAACO,MAAM,CAAC,CAE5B,GAAIG,SAAS,CAAE,mBACbN,KAAA,QAAKa,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChChB,IAAA,QAAKe,SAAS,CAAC,SAAS,CAAM,CAAC,cAC/Bf,IAAA,MAAAgB,QAAA,CAAG,YAAU,CAAG,CAAC,EACd,CAAC,CAGR,mBACEd,KAAA,QAAKa,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCd,KAAA,QAAKa,SAAS,CAAC,sEAAsE,CAAAC,QAAA,eACnFhB,IAAA,OAAIe,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cACzDhB,IAAA,WACEe,SAAS,eAAAE,MAAA,CAAgBV,eAAe,CAAG,uBAAuB,CAAG,aAAa,CAAG,CACrFW,OAAO,CAAEA,CAAA,GAAMP,kBAAkB,CAAC,CAACJ,eAAe,CAAE,CACpDY,QAAQ,CAAE,CAACd,MAAO,CAAAW,QAAA,CAEjBT,eAAe,CAAG,QAAQ,CAAG,SAAS,CACjC,CAAC,EACN,CAAC,CAELA,eAAe,eACdP,IAAA,QAAKe,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACtChB,IAAA,CAACJ,aAAa,EACZwB,gBAAgB,CAAER,gBAAiB,CACnCP,MAAM,CAAEA,MAAO,CAChB,CAAC,CACC,CACN,cAEDL,IAAA,QAAKe,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACzCV,QAAQ,CAACe,MAAM,GAAK,CAAC,cACpBnB,KAAA,QAAKa,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BhB,IAAA,MAAGe,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,cACjDhB,IAAA,WACEe,SAAS,CAAC,0BAA0B,CACpCG,OAAO,CAAEA,CAAA,GAAMP,kBAAkB,CAAC,IAAI,CAAE,CACxCQ,QAAQ,CAAE,CAACd,MAAO,CAAAW,QAAA,CACnB,+BAED,CAAQ,CAAC,EACN,CAAC,CAENV,QAAQ,CAACgB,GAAG,CAACC,OAAO,EAClBA,OAAO,eACLvB,IAAA,CAACH,WAAW,EAEV0B,OAAO,CAAEA,OAAQ,CACjBb,IAAI,CAAEA,IAAK,CACXD,UAAU,CAAEA,UAAW,CACvBe,SAAS,CAAEX,aAAc,CACzBY,QAAQ,CAAEX,YAAa,EALlBS,OAAO,CAACG,EAMd,CAEL,CACD,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}