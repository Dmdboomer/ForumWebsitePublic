{"ast":null,"code":"import React from'react';import getTimeDisplay from'../../utils/helperFunctions/GetTimeSince';import'../nonGlobalStyle/CommentItem.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CommentItem=_ref=>{var _user$username;let{comment,user,processing,onEndorse,onReport}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"comment-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"comment-avatar\",children:/*#__PURE__*/_jsx(\"span\",{className:\"comment-avatar-initial\",children:(user===null||user===void 0?void 0:(_user$username=user.username)===null||_user$username===void 0?void 0:_user$username.charAt(0))||'U'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"comment-text\",children:comment.comment_text}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-meta\",children:[/*#__PURE__*/_jsxs(\"small\",{className:\"comment-timestamp\",children:[\"Posted \",getTimeDisplay(comment.created_at),\" by \",(user===null||user===void 0?void 0:user.username)||'Unknown']}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-endorse \".concat(comment.is_endorsed?'endorsed':''),onClick:()=>onEndorse(comment.id),disabled:processing[comment.id]||!user,\"aria-label\":comment.is_endorsed?\"Unendorse comment\":\"Endorse comment\",children:processing[comment.id]==='endorsing'?/*#__PURE__*/_jsx(\"span\",{className:\"action-spinner\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Endorse\",comment.endorsement_count>0&&\" (\".concat(comment.endorsement_count,\")\")]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-report \".concat(comment.is_reported?'reported':''),onClick:()=>onReport(comment.id),disabled:processing[comment.id]||!user,\"aria-label\":comment.is_reported?\"Unreport comment\":\"Report comment\",children:processing[comment.id]==='reporting'?/*#__PURE__*/_jsx(\"span\",{className:\"action-spinner\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Report\",comment.report_count>0&&\" (\".concat(comment.report_count,\")\")]})})]})]})]})]})});};export default CommentItem;","map":{"version":3,"names":["React","getTimeDisplay","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CommentItem","_ref","_user$username","comment","user","processing","onEndorse","onReport","className","children","username","charAt","comment_text","created_at","concat","is_endorsed","onClick","id","disabled","endorsement_count","is_reported","report_count"],"sources":["/Users/yc/Documents/MainWebsiteTree/ActualWebsite/Algorithm+TopicSutff/algorithm-app/src/CodeNode/components/CommentItem.js"],"sourcesContent":["import React from 'react';\nimport getTimeDisplay from '../../utils/helperFunctions/GetTimeSince';\nimport '../nonGlobalStyle/CommentItem.css';\n\nconst CommentItem = ({ comment, user, processing, onEndorse, onReport }) => {\n  return (\n    <div className=\"comment-item\">\n      <div className=\"d-flex\">\n        <div className=\"comment-avatar\">\n          <span className=\"comment-avatar-initial\">\n            {user?.username?.charAt(0) || 'U'}\n          </span>\n        </div>\n        <div className=\"comment-content\">\n          <p className=\"comment-text\">{comment.comment_text}</p>\n          <div className=\"comment-meta\">\n            <small className=\"comment-timestamp\">\n              Posted {getTimeDisplay(comment.created_at)} by {user?.username || 'Unknown'}\n            </small>\n            <div className=\"comment-actions\">\n              <button\n                className={`btn-endorse ${comment.is_endorsed ? 'endorsed' : ''}`}\n                onClick={() => onEndorse(comment.id)}\n                disabled={processing[comment.id] || !user}\n                aria-label={comment.is_endorsed ? \"Unendorse comment\" : \"Endorse comment\"}\n              >\n                {processing[comment.id] === 'endorsing' ? (\n                  <span className=\"action-spinner\" />\n                ) : (\n                  <>\n                    Endorse\n                    {/* Only show count if greater than 0 */}\n                    {comment.endorsement_count > 0 && ` (${comment.endorsement_count})`}\n                  </>\n                )}\n              </button>\n              <button \n                className={`btn-report ${comment.is_reported ? 'reported' : ''}`}\n                onClick={() => onReport(comment.id)}\n                disabled={processing[comment.id] || !user}\n                aria-label={comment.is_reported ? \"Unreport comment\" : \"Report comment\"}\n              >\n                {processing[comment.id] === 'reporting' ? (\n                  <span className=\"action-spinner\" />\n                ) : (\n                  <>\n                    Report\n                    {/* Only show count if greater than 0 */}\n                    {comment.report_count > 0 && ` (${comment.report_count})`}\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CommentItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}