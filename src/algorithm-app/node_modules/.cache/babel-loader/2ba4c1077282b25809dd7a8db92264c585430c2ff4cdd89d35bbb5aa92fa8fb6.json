{"ast":null,"code":"var _jsxFileName = \"/Users/yc/Documents/MainWebsiteTree/ActualWebsite/Algorithm+TopicSutff/algorithm-app/src/CodeRoot/components/RootCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport ScoreBar from '../../utils/visuals/ScoreBar';\nimport { saveNode } from '../../CodeProfile/services/profileAPI'; // Adjust import path as needed\nimport '../../CodeCSS/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RootCard = ({\n  root,\n  userUUID\n}) => {\n  _s();\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const dropdownRef = useRef(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setDropdownOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  const handleSave = async () => {\n    if (!userUUID) {\n      alert('Please log in to save nodes');\n      return;\n    }\n    try {\n      await saveNode(userUUID, root.id);\n      alert('Node saved successfully!');\n      setDropdownOpen(false);\n    } catch (error) {\n      alert(`Save failed: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"root-card\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/node/${root.id}`,\n      className: \"root-link\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"root-icon\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83D\\uDCDA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"root-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"root-title\",\n          children: root.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"root-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sub-topics\",\n            children: [\"Leafs: \", root.leaf_count_in_subtree || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"popularity\",\n            children: [\"Popularity: \", root.popularity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ScoreBar, {\n            score: root.score,\n            height: 10,\n            color: \"#4285F4\",\n            label: \"Weighted Average Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), root.created_at && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"date\",\n            children: new Date(root.created_at).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"root-actions\",\n      ref: dropdownRef,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"dropdown-toggle\",\n        onClick: e => {\n          console.log(\"Button clicked!\"); // Add this\n          e.preventDefault();\n          e.stopPropagation();\n          setDropdownOpen(!dropdownOpen);\n        },\n        children: \"\\u22EE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), dropdownOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-menu\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropdown-item\",\n          onClick: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            handleSave();\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(RootCard, \"0tKf/E+0E3dtqz5xwj/se5Fbni8=\");\n_c = RootCard;\nexport default RootCard;\nvar _c;\n$RefreshReg$(_c, \"RootCard\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Link","ScoreBar","saveNode","jsxDEV","_jsxDEV","RootCard","root","userUUID","_s","dropdownOpen","setDropdownOpen","dropdownRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleSave","alert","id","error","message","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","title","leaf_count_in_subtree","popularity","score","height","color","label","created_at","Date","toLocaleDateString","ref","onClick","e","console","log","preventDefault","stopPropagation","_c","$RefreshReg$"],"sources":["/Users/yc/Documents/MainWebsiteTree/ActualWebsite/Algorithm+TopicSutff/algorithm-app/src/CodeRoot/components/RootCard.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport ScoreBar from '../../utils/visuals/ScoreBar';\nimport { saveNode } from '../../CodeProfile/services/profileAPI'; // Adjust import path as needed\nimport '../../CodeCSS/App.css'\n\nconst RootCard = ({ root, userUUID }) => {\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const dropdownRef = useRef(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleSave = async () => {\n    if (!userUUID) {\n      alert('Please log in to save nodes');\n      return;\n    }\n\n    try {\n      await saveNode(userUUID, root.id);\n      alert('Node saved successfully!');\n      setDropdownOpen(false);\n    } catch (error) {\n      alert(`Save failed: ${error.message}`);\n    }\n  };\n\n  return (\n    <div className=\"root-card\">\n      <Link to={`/node/${root.id}`} className=\"root-link\">\n        <div className=\"root-icon\">\n          <span>ðŸ“š</span>\n        </div>\n        <div className=\"root-info\">\n          <h3 className=\"root-title\">{root.title}</h3>\n          <div className=\"root-meta\">\n            <span className=\"sub-topics\">Leafs: {root.leaf_count_in_subtree || 0}</span>\n            <span className=\"popularity\">Popularity: {root.popularity}</span>\n            <ScoreBar \n              score={root.score} \n              height={10}\n              color=\"#4285F4\"\n              label=\"Weighted Average Score\"\n            />\n            {root.created_at && (\n              <span className=\"date\">\n                {new Date(root.created_at).toLocaleDateString()}\n              </span>\n            )}\n          </div>\n        </div>\n      </Link>\n      \n      {/* Dropdown menu */}\n      <div className=\"root-actions\" ref={dropdownRef}>\n        <button \n          className=\"dropdown-toggle\"\n          onClick={(e) => {\n              console.log(\"Button clicked!\"); // Add this\n            e.preventDefault();\n            e.stopPropagation();\n            setDropdownOpen(!dropdownOpen);\n          }}\n        >\n          â‹®\n        </button>\n        \n        {dropdownOpen && (\n          <div className=\"dropdown-menu\">\n            <button \n              className=\"dropdown-item\"\n              onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                handleSave();\n              }}\n            >\n              Save\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RootCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}