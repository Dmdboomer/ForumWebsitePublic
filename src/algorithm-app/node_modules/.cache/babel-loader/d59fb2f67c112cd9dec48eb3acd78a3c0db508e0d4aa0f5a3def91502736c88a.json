{"ast":null,"code":"// src/components/AuthPage/AuthPage.jsx\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{signupUser}from'../services/auth';import'../../CodeCSS/AuthPage.css';import{GoogleOAuthProvider,GoogleLogin}from'@react-oauth/google';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AuthPage=()=>{const location=window.location.pathname;const[authType,setAuthType]=useState(location.includes('signup')?'signup':'login');const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const{login}=useAuth();const{loginWithGoogle}=useAuth();const switchAuthType=type=>{setAuthType(type);setError('');};const handleLogin=async e=>{e.preventDefault();try{await login(email,password);navigate('/');}catch(err){setError('Invalid credentials. Please try again.');}};const handleSignup=async e=>{e.preventDefault();try{await signupUser(name,email,password);switchAuthType('login');setError('Signup successful! Please login.');}catch(err){console.error(\"Signup Error:\",err.message,err.stack);setError('Email already exists. Please use another email.');}};const handleGoogleSuccess=async credentialResponse=>{try{await loginWithGoogle(credentialResponse.credential);navigate('/');}catch(error){setError('Google login failed XD');console.log(error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-page-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"toggle-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn \".concat(authType==='login'?'active':''),onClick:()=>switchAuthType('login'),children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn \".concat(authType==='signup'?'active':''),onClick:()=>switchAuthType('signup'),children:\"Sign Up\"}),/*#__PURE__*/_jsx(GoogleOAuthProvider,{clientId:process.env.REACT_APP_GOOGLE_CLIENT_ID,children:/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:handleGoogleSuccess,onError:()=>setError('Google login failed LOL'),useOneTap:true,size:\"large\",text:\"signin_with\",theme:\"filled_blue\"})})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"auth-message \".concat(error.includes('successful')?'success':'error'),children:error}),authType==='login'?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Login\"})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSignup,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Sign Up\"})]})]})});};export default AuthPage;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","signupUser","GoogleOAuthProvider","GoogleLogin","jsx","_jsx","jsxs","_jsxs","AuthPage","location","window","pathname","authType","setAuthType","includes","name","setName","email","setEmail","password","setPassword","error","setError","navigate","login","loginWithGoogle","switchAuthType","type","handleLogin","e","preventDefault","err","handleSignup","console","message","stack","handleGoogleSuccess","credentialResponse","credential","log","className","children","concat","onClick","clientId","process","env","REACT_APP_GOOGLE_CLIENT_ID","onSuccess","onError","useOneTap","size","text","theme","onSubmit","value","onChange","target","required"],"sources":["/Users/yc/Documents/MainWebsiteTree/ActualWebsite/Algorithm+TopicSutff/src/algorithm-app/src/CodeLoginAuth/pages/AuthPage.js"],"sourcesContent":["// src/components/AuthPage/AuthPage.jsx\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { signupUser } from '../services/auth';\nimport '../../CodeCSS/AuthPage.css';\nimport { GoogleOAuthProvider, GoogleLogin } from '@react-oauth/google';\n\n\nconst AuthPage = () => {\n  const location = window.location.pathname;\n  const [authType, setAuthType] = useState(location.includes('signup') ? 'signup' : 'login');\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const { login } = useAuth();\n  const { loginWithGoogle } = useAuth();\n\n  const switchAuthType = (type) => {\n    setAuthType(type);\n    setError('');\n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      await login(email, password);\n      navigate('/');\n    } catch (err) {\n      setError('Invalid credentials. Please try again.');\n    }\n  };\n\n  const handleSignup = async (e) => {\n    e.preventDefault();\n    try {\n      await signupUser(name, email, password);\n      switchAuthType('login');\n      setError('Signup successful! Please login.');\n    } catch (err) {\n      console.error(\"Signup Error:\", err.message, err.stack);\n      setError('Email already exists. Please use another email.');\n    }\n  };\n\n  const handleGoogleSuccess = async (credentialResponse) => {\n    try {\n      await loginWithGoogle(credentialResponse.credential);\n      navigate('/');\n    } catch (error) {\n      setError('Google login failed XD');\n      console.log(error)\n    }\n  };\n\n  return (\n    <div className=\"auth-page-container\">\n      <div className=\"auth-form\">\n        <div className=\"toggle-buttons\">\n          <button\n            className={`toggle-btn ${authType === 'login' ? 'active' : ''}`}\n            onClick={() => switchAuthType('login')}\n          >\n            Login\n          </button>\n          <button\n            className={`toggle-btn ${authType === 'signup' ? 'active' : ''}`}\n            onClick={() => switchAuthType('signup')}\n          >\n            Sign Up\n          </button>\n          <GoogleOAuthProvider clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}>\n            <GoogleLogin\n              onSuccess={handleGoogleSuccess}\n              onError={() => setError('Google login failed LOL')}\n              useOneTap\n              size=\"large\"\n              text=\"signin_with\"\n              theme=\"filled_blue\"\n            />\n          </GoogleOAuthProvider>\n        </div>\n\n        {error && (\n          <p className={`auth-message ${error.includes('successful') ? 'success' : 'error'}`}>\n            {error}\n          </p>\n        )}\n\n        {authType === 'login' ? (\n          <form onSubmit={handleLogin}>\n            <div className=\"form-group\">\n              <label>Email</label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Password</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </div>\n            <button type=\"submit\" className=\"submit-button\">\n              Login\n            </button>\n          </form>\n        ) : (\n          <form onSubmit={handleSignup}>\n            <div className=\"form-group\">\n              <label>Name</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Email</label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Password</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </div>\n            <button type=\"submit\" className=\"submit-button\">\n              Sign Up\n            </button>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AuthPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}