{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../CodeLoginAuth/context/AuthContext';import{fetchSavedNodes,saveNode}from'./services/profileAPI';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SavedNodesTab=()=>{const{user}=useAuth();const navigate=useNavigate();const[savedNodes,setSavedNodes]=useState([]);const[newNodeId,setNewNodeId]=useState('');const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[error,setError]=useState(null);useEffect(()=>{if(user!==null&&user!==void 0&&user.UUID){fetchSavedNodesList();}else{setLoading(false);}},[user]);const fetchSavedNodesList=async()=>{try{const data=await fetchSavedNodes(user.UUID);setSavedNodes(data.map(item=>item.node_id));setError(null);}catch(err){setError(err.message);}finally{setLoading(false);}};const handleSubmit=async e=>{e.preventDefault();if(!newNodeId.trim())return;setSaving(true);setError(null);try{await saveNode(user.UUID,newNodeId.trim());await fetchSavedNodesList();setNewNodeId('');}catch(err){setError(err.message);}finally{setSaving(false);}};const handleNodeClick=nodeId=>{navigate(\"/node/\".concat(nodeId));};if(!user)return/*#__PURE__*/_jsx(\"p\",{className:\"p-4 text-center\",children:\"Please log in to view saved nodes\"});if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"p-4 text-center\",children:\"Loading saved nodes...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"saved-nodes-tab\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4\",children:error}),/*#__PURE__*/_jsx(\"h3\",{className:\"p-4 border-b\",children:\"Your Saved Nodes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"saved-nodes-list\",children:savedNodes.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y\",children:savedNodes.map((nodeId,index)=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>handleNodeClick(nodeId),className:\"p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-150\",children:nodeId},index))}):/*#__PURE__*/_jsx(\"p\",{className:\"p-4 text-gray-500\",children:\"No saved nodes found\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newNodeId,onChange:e=>setNewNodeId(e.target.value),placeholder:\"Enter node ID to save\",className:\"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",disabled:saving}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:saving,className:\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\",children:saving?'Saving...':'Save'})]})})]});};export default SavedNodesTab;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","fetchSavedNodes","saveNode","jsx","_jsx","jsxs","_jsxs","SavedNodesTab","user","navigate","savedNodes","setSavedNodes","newNodeId","setNewNodeId","loading","setLoading","saving","setSaving","error","setError","UUID","fetchSavedNodesList","data","map","item","node_id","err","message","handleSubmit","e","preventDefault","trim","handleNodeClick","nodeId","concat","className","children","length","index","onClick","onSubmit","type","value","onChange","target","placeholder","disabled"],"sources":["/Users/yc/Documents/MainWebsiteTree/ActualWebsite/Algorithm+TopicSutff/src/algorithm-app/src/CodeProfile/SavedNodesTab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../CodeLoginAuth/context/AuthContext';\nimport { fetchSavedNodes, saveNode } from './services/profileAPI';\n\nconst SavedNodesTab = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [savedNodes, setSavedNodes] = useState([]);\n  const [newNodeId, setNewNodeId] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (user?.UUID) {\n      fetchSavedNodesList();\n    } else {\n      setLoading(false);\n    }\n  }, [user]);\n\n  const fetchSavedNodesList = async () => {\n    try {\n      const data = await fetchSavedNodes(user.UUID);\n      setSavedNodes(data.map(item => item.node_id));\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!newNodeId.trim()) return;\n    \n    setSaving(true);\n    setError(null);\n    \n    try {\n      await saveNode(user.UUID, newNodeId.trim());\n      await fetchSavedNodesList();\n      setNewNodeId('');\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleNodeClick = (nodeId) => {\n    navigate(`/node/${nodeId}`);\n  };\n\n  if (!user) return <p className=\"p-4 text-center\">Please log in to view saved nodes</p>;\n  if (loading) return <p className=\"p-4 text-center\">Loading saved nodes...</p>;\n\n  return (\n    <div className=\"saved-nodes-tab\">\n      {error && (\n        <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4\">\n          {error}\n        </div>\n      )}\n      \n      <h3 className=\"p-4 border-b\">Your Saved Nodes</h3>\n      \n      <div className=\"saved-nodes-list\">\n        {savedNodes.length > 0 ? (\n          <ul className=\"divide-y\">\n            {savedNodes.map((nodeId, index) => (\n              <li \n                key={index} \n                onClick={() => handleNodeClick(nodeId)}\n                className=\"p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-150\"\n              >\n                {nodeId}\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p className=\"p-4 text-gray-500\">No saved nodes found</p>\n        )}\n      </div>\n      \n      <div className=\"p-4 bg-gray-50\">\n        <form onSubmit={handleSubmit} className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={newNodeId}\n            onChange={(e) => setNewNodeId(e.target.value)}\n            placeholder=\"Enter node ID to save\"\n            className=\"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            disabled={saving}\n          />\n          <button\n            type=\"submit\"\n            disabled={saving}\n            className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n          >\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default SavedNodesTab;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}