{"ast":null,"code":"// CreateTopic.js\nimport React,{useState}from'react';import{createTopic}from'../services/rootAPI';// Import the API function\nimport'react-router-dom';import PrivateRoute from'../../CodeLoginAuth/components/PrivateRoute';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CreateTopic=_ref=>{let{onClose,onCancel}=_ref;const[title,setTitle]=useState('');const[content,setContent]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setIsSubmitting(true);setError('');try{await createTopic(title,content);onClose();}catch(error){var _error$response,_error$response$data;console.error('Error creating topic:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message||'An error occurred. Please try again.');}finally{setIsSubmitting(false);}};return/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"topic-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Topic\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Enter topic title\",required:true,disabled:isSubmitting,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:e=>setContent(e.target.value),placeholder:\"Describe your topic...\",rows:5,required:true,disabled:isSubmitting,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,className:\"btn btn-primary\",children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm\",role:\"status\"}),\"Creating...\"]}):'Create Topic'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onCancel,disabled:isSubmitting,children:\"Cancel\"})]})]})]})});};export default CreateTopic;","map":{"version":3,"names":["React","useState","createTopic","PrivateRoute","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CreateTopic","_ref","onClose","onCancel","title","setTitle","content","setContent","isSubmitting","setIsSubmitting","error","setError","handleSubmit","e","preventDefault","_error$response","_error$response$data","console","response","data","message","children","className","onSubmit","type","value","onChange","target","placeholder","required","disabled","rows","role","onClick"],"sources":["/Users/yc/Documents/MainWebsiteTree/ActualWebsite/Algorithm+TopicSutff/algorithm-app/src/CodeRoot/components/CreateTopic.js"],"sourcesContent":["// CreateTopic.js\nimport React, { useState } from 'react';\nimport { createTopic } from '../services/rootAPI'; // Import the API function\nimport { } from 'react-router-dom';\nimport PrivateRoute from '../../CodeLoginAuth/components/PrivateRoute';\n\nconst CreateTopic = ({ onClose, onCancel }) => {\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setError('');\n    \n    try {\n      await createTopic(title, content);\n      onClose();\n    } catch (error) {\n      console.error('Error creating topic:', error);\n      setError(\n        error.response?.data?.message || \n        error.message || \n        'An error occurred. Please try again.'\n      );\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <PrivateRoute>\n      <div className=\"topic-form\">\n        <h2>Create New Topic</h2>\n        \n        {error && <div className=\"error-message\">{error}</div>}\n        \n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label>Title</label>\n            <input\n              type=\"text\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              placeholder=\"Enter topic title\"\n              required\n              disabled={isSubmitting}\n              className=\"form-control\"\n            />\n          </div>\n          \n          <div className=\"form-group\">\n            <label>Content</label>\n            <textarea\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n              placeholder=\"Describe your topic...\"\n              rows={5}\n              required\n              disabled={isSubmitting}\n              className=\"form-control\"\n            />\n          </div>\n          \n          <div className=\"form-actions\">\n            <button \n              type=\"submit\" \n              disabled={isSubmitting}\n              className=\"btn btn-primary\"\n            >\n              {isSubmitting ? (\n                <>\n                  <span className=\"spinner-border spinner-border-sm\" role=\"status\"></span>\n                  Creating...\n                </>\n              ) : 'Create Topic'}\n            </button>\n            \n            <button \n              type=\"button\" \n              className=\"btn btn-secondary\" \n              onClick={onCancel}\n              disabled={isSubmitting}\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </PrivateRoute>\n  );\n};\n\nexport default CreateTopic;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}