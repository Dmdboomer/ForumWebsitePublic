{"ast":null,"code":"var _jsxFileName = \"/Users/yc/Documents/MainWebsiteTree/Algorithm+TopicSutff/algorithm-app/src/pages/RootsPage.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport CreateTopic from '../components/CreateTopic';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RootsPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [roots, setRoots] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [showCreateForm, setShowCreateForm] = React.useState(false);\n  const fetchRoots = React.useCallback(async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/roots/${id}`);\n      const data = await response.json();\n      setRoots(Array.isArray(data) ? data : []);\n    } catch (error) {\n      console.error('Error fetching root nodes:', error);\n      setRoots([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [id]);\n  React.useEffect(() => {\n    fetchRoots();\n  }, [fetchRoots]);\n  const handleNewRootCreated = () => {\n    setShowCreateForm(false);\n    fetchRoots(); // Refresh root list\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading root nodes...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Root Nodes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-secondary\",\n      onClick: () => navigate(`/topics/new`),\n      children: \"Back to Parent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), showCreateForm ? /*#__PURE__*/_jsxDEV(CreateTopic, {\n      onClose: handleNewRootCreated,\n      onCancel: () => setShowCreateForm(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-group\",\n      children: roots.length > 0 ? roots.map(root => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/node/${root.id}`,\n          children: [root.title, \" (Popularity: \", root.popularity, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)\n      }, root.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item\",\n        children: \"No root nodes found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(RootsPage, \"L1w8cwsWTajYVPHxwXukQnnOP7E=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = RootsPage;\nexport default RootsPage;\nvar _c;\n$RefreshReg$(_c, \"RootsPage\");","map":{"version":3,"names":["React","useParams","Link","useNavigate","CreateTopic","jsxDEV","_jsxDEV","RootsPage","_s","id","navigate","roots","setRoots","useState","loading","setLoading","showCreateForm","setShowCreateForm","fetchRoots","useCallback","response","fetch","data","json","Array","isArray","error","console","useEffect","handleNewRootCreated","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","onClose","onCancel","length","map","root","to","title","popularity","_c","$RefreshReg$"],"sources":["/Users/yc/Documents/MainWebsiteTree/Algorithm+TopicSutff/algorithm-app/src/pages/RootsPage.js"],"sourcesContent":["import React from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport CreateTopic from '../components/CreateTopic';\n\nconst RootsPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [roots, setRoots] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [showCreateForm, setShowCreateForm] = React.useState(false);\n  \n  const fetchRoots = React.useCallback(async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/roots/${id}`);\n      const data = await response.json();\n      setRoots(Array.isArray(data) ? data : []);\n    } catch (error) {\n      console.error('Error fetching root nodes:', error);\n      setRoots([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [id]);\n\n  React.useEffect(() => {\n    fetchRoots();\n  }, [fetchRoots]);\n\n  const handleNewRootCreated = () => {\n    setShowCreateForm(false);\n    fetchRoots();  // Refresh root list\n  };\n\n  if (loading) return <div>Loading root nodes...</div>;\n\n  return (\n    <div>\n      <h1>Root Nodes</h1>\n      <button className=\"btn btn-secondary\" onClick={() => navigate(`/topics/new`)}>\n            Back to Parent\n      </button>\n\n      {showCreateForm ? (\n        <CreateTopic \n          onClose={handleNewRootCreated} \n          onCancel={() => setShowCreateForm(false)} \n        />\n      ) : (\n        <ul className=\"list-group\">\n          {roots.length > 0 ? (\n            roots.map(root => (\n              <li key={root.id} className=\"list-group-item\">\n                <Link to={`/node/${root.id}`}>\n                  {root.title} (Popularity: {root.popularity})\n                </Link>\n              </li>\n            ))\n          ) : (\n            <li className=\"list-group-item\">No root nodes found</li>\n          )}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default RootsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}